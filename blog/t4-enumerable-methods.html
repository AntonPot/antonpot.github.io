<!DOCTYPE html>
<html>
<head>
  <link href='http://fonts.googleapis.com/css?family=Arvo' rel='stylesheet' type='text/css'>
  <title>Enumerable Methods - #cycle</title>
  <meta charset="UTF-8">
  <link rel="stylesheet" type="text/css" href="../stylesheets/blog-stylesheet.css">
  <script src="https://google-code-prettify.googlecode.com/svn/loader/run_prettify.js"></script>  
</head>
<body>
<div id="background">
    <img id="header" src="../imgs/avatar.png">
  <table id="side_bar">
    <tr><td class="button"><a href="../index.html">Home</a></td></tr>
    <tr><td id="menu"><ol>
            <li>Week</li>
              <ul>
                <li><a href="./t1-git-blog.html">       Shell &amp; Friends</a></li>
                <li><a href="./c1-chefs-kitchen.html">  School vs. Club</a></li>
              </ul>
            <li>Week</li>
              <ul>
                <li><a href="./t2-css-design.html">     HTMS/CSS &amp; Cinema</a></li>
              </ul>
            <li>Week</li>
              <ul>
                <li><a href="./t3-arrays-hashes.html">  How Arrays Work</a></li>
                <li><a href="./c3-thinking-style.html"> Thinking styles</a></li>
              </ul>
            <li>Week</li>
              <ul>
                <li><a href="./t4-enumerable-methods.html">Enumerable Methods - #cycle</a></li>
                <li><a href="./c4-tech-issues.html">    Issues in Tech - Complexity</a></li>
              </ul>            
            <li>Week</li>
              <ul>
                <li><a href="./t5-ruby-classes.html">    Why Classes?</li>
              </ul>
    </ol></td></tr>
  </table>
<div class="main">
  <h2>Enumerable Methods:</h2>
  <h2>#cycle</h2>
  <h3>January the 15th in year 2015</h3>
    <p>
      I’ll be talking about cycle, and not just any kind of cycle, but a method called cycle. This one is kind of tricky because it can easily end up in a never ending loop. I’ll explain all about it later, but first let’s look at it and admire its beauty for a second.
    </p>
    <p>
      <strong>#cycle</strong>
    </p>
    <p>
      Yeah, I know! Looks awesome!
      <br>Now let’s look what it’s capable of:
    </p>
  <pre class="prettyprint">
  <code>array = [1,2,3,4]
  array.cycle{|x| puts x}</code></pre>
    <p>
      But wait! With this method, called as it is, you have to be really careful. It’s so powerful that it can count to infinity. Indeed. Some serious stuff going on here. It’s so powerful that it’s almost like Chuck Norris, just that he did it twice, so it’s not quite there yet.
    </p>
    <p>
      So this makes an infinite loop, but luckily we can give it some arguments which would stand for number of cycles it would do.
    </p>
  <pre class="prettyprint">
  <code>array = [1,2,3,4]
  array.cycle(2){|z| print z}</code></pre>
      <p>Output:</p>
      <p><b>=> 12341234</b></p>
    <p>
      Here we told it to make two cycles, so in fact we told it to make a bicycle. And it did! If you ever wondered how to make a bicycle, this is how to do it. As it turns out, it’s not that hard.
    </p>
    <p>
      Next we’ll take a look how our friend works with method #next. Just so you know, #next gives you the following element. If you call it on integer 1, it would return you 2, just like if you call it on a string <code class="code">"a"</code> it would give you <code class="code">"b"</code>.
    </p>
    <p>
  <pre class="prettyprint">
  <code>1.next</code></pre>
      <b>=> 2</b>
  <pre class="prettyprint">
  <code>"a".next</code></pre>
      <b>=> "b"</b>
    </p>
     <p>
      And how can we use that with #cycle? If you have a variable pointing to an infinite loop it will always have a next item to return. Let’s see:
    </p>
    <p>
  <pre class="prettyprint">
  <code>array = [1,2,3,4]
  my_loop = array.cycle
  my_loop.next</code></pre>
     <b>=> 1</b>
  <pre class="prettyprint">
  <code>my_loop.next</code></pre>
      <b>=> 2</b>
  <pre class="prettyprint">
  <code>my_loop.next</code></pre>
      <b>=> 3</b>
  <pre class="prettyprint">
  <code>my_loop.next</code></pre>
      <b>=> 4</b>
  <pre class="prettyprint">
  <code>my_loop.next</code></pre>
      <b>=> 1</b>
  <pre class="prettyprint">
  <code>my_loop.next</code></pre>   
      <b>=> 2</b>
    </p>
     <p>
      Pretty neat, right? Keep in mind that only works with #cycle. Let’s see what happens if we do the same with #each.
    </p>
    <p>
  <pre class="prettyprint">
  <code>array = [1,2,3,4]
  my_loop = array.each
  my_loop.next</code></pre>
     <b>=> 1</b>
  <pre class="prettyprint">
  <code>my_loop.next</code></pre>
      <b>=> 2</b>
  <pre class="prettyprint">
  <code>my_loop.next</code></pre>
      <b>=> 3</b>
  <pre class="prettyprint">
  <code>my_loop.next</code></pre>
      <b>=> 4</b>
  <pre class="prettyprint">
  <code>my_loop.next</code></pre>
      <b>=> StopIteration: iteration reached an end</b><br>
      <b>from (irb):7:in `next'</b><br>
      <b>from (irb):7</b><br>
      <b>from C:/Ruby21-x64/bin/irb:11:in `&lt;main>'</b>
    </p>
     <p>
      See? We get an error! This is because #each is not Chuck Norris and it has a limit to where it can count.
    </p>
    <p>
      There’s one more thing I’d want to point out. One might think that creating a variable (my_loop in our case) is pointless, because you can just call #next to <code class="code">array.cycle</code> like so…
    </p>
    <p>
  <pre class="prettyprint">
  <code>array.cycle.next</code></pre>
    </p>
    <p>
      … and he’d be wrong. Let’s try it, just for the heck of it.
    </p>
    <p>
  <pre class="prettyprint">
  <code>array = [1,2,3,4]
      array.cycle.next</code></pre>
      <b>=> 1</b>
  <pre class="prettyprint">
  <code>array.cycle.next</code></pre>
      <b>=> 1</b>
  <pre class="prettyprint">
  <code>array.cycle.next</code></pre>
      <b>=> 1</b>
    </p>
    <p>
      Well, this looks more like #same than #next to me! And just that we are clear, #same is not a method, at least not one that I would know of.
    </p>
    <p>
      Why this doesn’t work with #next is beyond of scope of this post, so let’s just except it and create a variable, and we can all live happily ever after.
    </p>
  </div>
  <div id="footer">
    <table>
      <tr><td colspan="3">by Marko Anton Potocnik</td></tr>
      <tr><td>You can find me in...</td>
          <td><a href="mailto:markoapotocnik@gmail.com"><img src="../imgs/mail-icon.png"></a></td>
          <td><a href="https://www.facebook.com/markoapotocnik"><img src="../imgs/facebook.png"></a></td>
          <td><a href="https://twitter.com/mapotocnik"><img src="../imgs/twitter.png"></a></td>
          <td><a href="http://si.linkedin.com/in/markoapotocnik"><img src="../imgs/linkedin.png"></a></td>
          <td><a href="https://github.com/AntonPot"><img style="background-color: white" src="../imgs/github.png"></a></td></tr>
    </table>  
  </div>
</div>
</body>
</html>